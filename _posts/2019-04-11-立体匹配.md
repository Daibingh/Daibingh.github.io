---
layout: post
title:  "立体匹配"
categories: 计算机视觉
tags: 计算机视觉 立体匹配
author: hdb
mathjax: true
excerpt: 立体匹配相关学习资料收集，学习笔记。
comments: true
---

* content
{:toc}

## 学习资料

- 基于双目视觉的自动驾驶技术(**) https://zhuanlan.zhihu.com/p/56236308
- 双目匹配与视差计算(*) https://blog.csdn.net/Tommy_wxie/article/details/75085158
- 立体视觉(***) https://github.com/Ewenwan/MVision/tree/master/stereo
- 双目立体匹配(***) https://github.com/Ewenwan/MVision/blob/master/stereo/paper/readme.md
- 基础：视差与深度信息(**) http://www.cnblogs.com/gemstone/archive/2011/12/19/2293806.html
- 谷歌普林斯顿提出首个端到端立体双目系统深度学习方案(**) https://cloud.tencent.com/developer/article/1172663
- http://www.tensorinfinity.com/paper_135.html
- https://github.com/meteorshowers/StereoNet
- OpenCV+OpenGL 双目立体视觉三维重建 https://blog.csdn.net/wangyaninglm/article/details/52142217
- 老王 立体匹配的研究背景以及意义 https://blog.csdn.net/wangyaninglm/article/details/51533549
- 立体匹配：http://homepages.inf.ed.ac.uk/rbf/CVonline/LOCAL_COPIES/OWENS/LECT11/node5.html


## 数据集
- [sceneFlow](https://lmb.informatik.uni-freiburg.de/resources/datasets/SceneFlowDatasets.en.html)


## 相关概念

- 视差理论
- 极线
- active stereo and passive stereo
    - https://blog.csdn.net/renshengrumenglibing/article/details/8502280 
- Random dot stereograms

## 实现

- https://github.com/topics/stereo-matching
- https://www.devpy.me/template-matching/
- https://www.devpy.me/what-is-stereo-matching/
- Pyramid Stereo Matching Network (CVPR2018) 
    - https://github.com/JiaRenChang/PSMNet
    - https://github.com/KinglittleQ/PSMNet
- https://github.com/PRiME-project/PRiMEStereoMatch
- https://github.com/t-taniai/LocalExpStereo
- https://blog.csdn.net/renshengrumenglibing/article/details/8502280

---

## 立体匹配导论

### 定义

**立体匹配**是指利用不同视点拍摄的图片恢复深度信息的技术。

### 基本原理——视差理论

![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCE451232d1c2b3779269346ada32d1e04a/15415)

从以上公式可以得出**视差与深度深度成反比**，因此，得到视差深度自然得到。视差如何获取呢？找到 3D 世界中一点在不同视点图像上的投影点，两点坐标取差值。因此，立体匹配的等价命题是对应点匹配。

![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCE009e40aa20bedbebaedc00e815b74f72/15438)

一个完整的立体匹配系统

![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCE9f5aa8a08f4b07d27c8556c571cda4dd/15441)

### 立体匹配约束

根据立体匹配的特点，在对应点匹配过程中遵循几个约束条件
- 相似性约束
- 极线约束
    ![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCE024f4d2a238065d50b553e1329374461/15542)
- 唯一性约束
- 连续性约束
- Ordering constraint. Fails for points in the forbidden zone

### 立体匹配的挑战

- 遮挡
- 光学失真和噪声（亮度、色调、饱和度等失衡）
- 平滑表面的镜面反射
- 透视失真（Perspective distortions）
- 低纹理（Low texture）
- 重复纹理（Repetitive/ambiguous patterns）
- 透明物体
- 投影缩减（Foreshortening）

https://blog.csdn.net/Tommy_wxie/article/details/75085158

### 立体匹配算法

所有方法都试图利用多个约束将一个图像中的像素与另一个图像中的像素匹配。

传统的立体匹配算法一般分为两大类：
- 局部匹配算法：在感兴趣的像素周围的少量像素上使用约束进行匹配
    - 特征点匹配
        ```
        该类方法首先从待匹配图像中提取特征，用相似性度量和一些约束条件确定几何变换，最后将该变换作用于待匹配图像。
        这类方法主要包括特征提取、特征匹配、模型变换、插值与视差求精等几个步骤。
        特征匹配算法是根据待匹配图像中的特征：灰度变化，边缘，光照等，建立其对应关系，并根据插值算法得到视差图的过程。
        特征匹配对图像噪声，遮挡不敏感，运算量小且计算时间短，但只能获取稀疏的视差图，在插值运算时容易丧失精度，对低纹理区域的匹配效果不好。
        ```
    - 区域匹配
        ```
        该类方法使用匹配窗，对所有子区域匹配窗口进行相似性度量来确定对应的区域。区域匹配中有两个问题很重要，一是相似性准则的选取，一是窗口的选取。
        相似度度量指标(匹配代价)：
            a. 归一化互相关（NCC）
            b. 灰度值差异（SAD，SSD）
            c. Rank (rank transform, census transform)
        ```
        ![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCE67c3e4a79f45fd2058dac3d7f6ab6027/15492)
        ![](https://note.youdao.com/yws/public/resource/89802d1267159210f0f44e6ebfcdd6b3/xmlnote/WEBRESOURCEf7e18e53f52f8500e4e396c678e3cef5/15479)
- 全局匹配算法：对极线或整个图像使用约束寻找匹配
    ```
    特点：
        a. 利用非局部约束降低对不匹配区域的敏感度（均匀纹理，遮挡...）
        b. 做出明确的平滑假设并解决优化问题
        c. 更大的计算复杂性
    例子：
        a. 动态规划（DP）
        b. 图割
    ```

